# MatchingColor Documentation

List of Files:
1.      Library (These files are not meant to be modified)
        ANN lib:
                conx.py
                newConx.py
                graphics.py
        Computer Vision lib:
                openCv
                Numpy
        Gilt API lib (data source):
                lib/gilt-python/ --- API key: 4bc9ea982749056525a630ff9eb6deda9f737c2a94492963f29e32f077ed766f
                (Details can be found at: https://dev.gilt.com/documentation/appendix.html)

2.      Input Data and Weights
        All image files can be found at /img/*
        inputs/all.dat --- information of index, category, (brand), (color) of all image files
        inputs/noise.dat --- list of bad images that are not included in data set to minimze noise
        weights/finalWeights --- weights trained by ANN we set up that has a good performance, this is meant to be loaded when testing, and is used in clothesAdvisor.py to test novel input
        inputs/inputs.dat --- input data going into ANN, generated by getOutput.py
        inputs/targets.dat --- corresponding target information, generated by getOutput.py
        [inputs/gilt.dat --- temp file used by downloadImage.py]
        [inputs/gilt2.dat --- temp file used by downloadImage.py]
        [inputs/saleName.dat --- temp file used by downloadImage.py]
        [inputs/saleName2.dat --- temp file used by downloadImage.py]
        img/ --- there are 1000 pictures from gilt (lg-1.jpg - lg-1000.jpg) and 8 test pictures (test-1.jpg - test-8.jpg)
        * Note: Please ignore all the files in []


3.      Processing Data
        defClothes.py --- define the 9 major categories used in the classification and width and height of image resizing
        downloadImage.py --- use Gilt API to download clothes data
        *Note: Do not modify or execute downloadImage.py
        getOutput.py --- convert downloaded image files into proper numeric formats that can be passed into the ANN

4.      Artificial Neural Network Training
        clothes-net.py --- set up the ANN and execute training
        *Note: run it using python -i clothes-net.py. No need to run it, after 50 hours of training, a set of fairly good weights are stored in weights/finalWeights
        
5.      Clustering
        color.py --- use kmeans clustering to classify the color schemes of images in each category and produce a json file myData.json, visualization.json that stores the clustering information

4.      New input
        clothesAdvisor.py --- create a new ANN, load the weigts from weights/finalWeights. User has to specify the address of input image file in the code . The program will show the image file, after you hit any key on keyboard, it will print the clothes category in terminal and save the recommendations based on the color clustering in cluster/result.json.

5.      Visualization
        cluster/myData.json --- json file that stores information of clustering information, generated by running color.py
        cluster/visualization.json --- json file that stores information of clustering information, stored in the data structure required by visualization force.js. This file is generated by running color.py  
        cluster/result.json --- json file that stores the recommendation information     
        * Note: deepfashion.org visualizes the clustering using the file visualization.json.


There are three parts in this project that are worth to look at in details:
        1. color.py

        2. clothesAdvisor.py

        3. www.deepfashion.org



I hope this overview of the files contained in this project is clear and helpful. And if you have further questions regarding the details of code, please see comments in each file. In each file, the header part explains the general purpose of it in details, and important sections are commented as well.

